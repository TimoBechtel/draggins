var t="ontouchstart"in window,e=t?"touchstart":"mousedown",n=t?"touchmove":"mousemove",o=t?"touchend":"mouseup",i=function(t){return{width:t.offsetWidth,height:t.offsetHeight,top:t.offsetTop,left:t.offsetLeft}},r=function(t,r){var s,l=void 0===r?{}:r,d=l.limit,h=void 0===d?{x:{min:0,max:window.innerWidth},y:{min:0,max:window.innerHeight}}:d,m=l.cancelWhenOutOfBoundary,y=void 0!==m&&m,v=l.dontTouchStyles,x=void 0!==v&&v,p=l.onDragStart,g=l.onDragEnd,w="string"==typeof(s=t)?Array.from(document.querySelectorAll(s)):Array.isArray(s)?s:void 0!==s.length?Array.from(s):[s],E=!0;return w.forEach(function(t){x||a(t,i(t)),t.addEventListener(e,function(e){var r=/touch/.test(e.type)?e.targetTouches[0]:e,a=i(t),s=r.clientX,l=r.clientY;function d(e){if(E){var n=/touch/.test(e.type)?e.targetTouches[0]:e;if(y&&c(n.clientX,n.clientY,h))f(d,m);else{var o=n.clientX-s,i=a.top+(n.clientY-l);h&&(i=u(i,h.y.min,h.y.max-a.height));var r=a.left+o;h&&(r=u(r,h.x.min,h.x.max-a.width)),t.style.top=i+"px",t.style.left=r+"px"}}}function m(){g({x:a.left,y:a.top}),f(d,m)}p({x:a.left,y:a.top}),e.preventDefault(),document.addEventListener(n,d),document.addEventListener(o,m)})}),{setDraggableState:function(t){E=t}}},a=function(t,e){var n=e.left,o=e.width,i=e.height;t.style.top=e.top+"px",t.style.left=n+"px",t.style.width=o+"px",t.style.height=i+"px",t.style.position="absolute",t.style.zIndex=99},u=function(t,e,n){return Math.min(Math.max(t,e),n)},c=function(t,e,n){return!n||t<=n.x.min||t>=n.x.max||e<=n.y.min||e>=n.y.max},f=function(t,e){document.removeEventListener(n,t),document.removeEventListener(o,e)};export{r as draggable};
//# sourceMappingURL=index.module.js.map
