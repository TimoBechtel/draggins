function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var e=function(t,e){return e.nodeType===Node.ELEMENT_NODE&&t.push(e),t},n=function(t,e,n){if(void 0===n)return Math.min(t,e);if(n<e){var o=[n,e];e=o[0],n=o[1]}return Math.min(Math.max(t,e),n)},o="ontouchstart"in window,r=o?"touchstart":"mousedown",i=o?"touchmove":"mousemove",a=o?"touchend":"mouseup",u=function(o,u){var s,m=void 0===u?{}:u,y=m.limit,h=void 0===y?{x:{min:0,max:window.innerWidth},y:{min:0,max:window.innerHeight}}:y,v=m.cancelWhenOutOfBoundary,x=void 0!==v&&v,p=m.dontTouchStyles,g=void 0!==p&&p,E=m.onDragStart,w=void 0===E?null:E,L=m.onDragEnd,O=void 0===L?null:L,T="string"==typeof(s=o)?Array.from(document.querySelectorAll(s)):Array.isArray(s)?s:"length"in s?Array.from(s).reduce(e,[]):[s],A=!0;return T.forEach(function(e){var o={x:0,y:0};g||f(e),e.addEventListener(r,function(r){var u=/touch/.test(r.type)?r.targetTouches[0]:r,f=c(e),s=u.clientX,m=u.clientY,y=t({},o);function v(t){if(A){var r=/touch/.test(t.type)?t.targetTouches[0]:t;if(x&&d(r.clientX,r.clientY,h))l(v,p);else{var i=r.clientY-m;o.x=y.x+(r.clientX-s),o.y=y.y+i,h&&(o.x=n(o.x,h.x.min-f.left,h.x.max-f.width-f.left),o.y=n(o.y,h.y.min-f.top,h.y.max-f.height-f.top)),e.style.transform="translate("+o.x+"px, "+o.y+"px)"}}}function p(){O&&O({x:f.left+o.x,y:f.top+o.y}),l(v,p)}w&&w({x:f.left+o.x,y:f.top+o.y}),r.preventDefault(),document.addEventListener(i,v),document.addEventListener(a,p)})}),{setDraggableState:function(t){A=t}}},c=function(t){return{width:t.offsetWidth,height:t.offsetHeight,top:t.offsetTop,left:t.offsetLeft}},f=function(t){t.style.zIndex="99"},d=function(t,e,n){return!n||t<=n.x.min||t>=n.x.max||e<=n.y.min||e>=n.y.max},l=function(t,e){document.removeEventListener(i,t),document.removeEventListener(a,e)};export{u as draggable};
//# sourceMappingURL=index.module.js.map
